{"version":3,"file":"js/442.63671c35.js","mappings":"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","sources":["webpack://guigu-oa-admin/./src/config/website.config.js","webpack://guigu-oa-admin/./src/views/login/index.vue","webpack://guigu-oa-admin/./node_modules/@vicons/ionicons5/es/PersonOutline.js","webpack://guigu-oa-admin/./node_modules/@vicons/ionicons5/es/LockClosedOutline.js","webpack://guigu-oa-admin/./src/views/login/index.vue?b794"],"sourcesContent":["import logoImage from '@/assets/images/logo.png';\nimport loginImage from '@/assets/images/account-logo.png';\n\nexport const websiteConfig = Object.freeze({\n  title: 'CloudUpOA',\n  logo: logoImage,\n  loginImage: loginImage,\n  loginDesc: '云尚办公后台管理系统',\n});\n","<template>\n  <div class=\"view-account\">\n    <div class=\"view-account-header\"></div>\n    <div class=\"view-account-container\">\n      <div class=\"view-account-top\">\n        <div class=\"view-account-top-logo\">\n          <h1 class=\"text-5xl\">欢迎登录</h1>\n        </div>\n        <div class=\"view-account-top-desc\">{{ websiteConfig.loginDesc }}</div>\n      </div>\n      <div class=\"view-account-form\">\n        <n-form\n          ref=\"formRef\"\n          label-placement=\"left\"\n          size=\"large\"\n          :model=\"formInline\"\n          :rules=\"rules\"\n        >\n          <n-form-item path=\"username\">\n            <n-input\n              v-model:value=\"formInline.username\"\n              placeholder=\"请输入用户名\"\n            >\n              <template #prefix>\n                <n-icon size=\"18\" color=\"#808695\">\n                  <PersonOutline />\n                </n-icon>\n              </template>\n            </n-input>\n          </n-form-item>\n          <n-form-item path=\"password\">\n            <n-input\n              v-model:value=\"formInline.password\"\n              type=\"password\"\n              showPasswordOn=\"click\"\n              placeholder=\"请输入密码\"\n            >\n              <template #prefix>\n                <n-icon size=\"18\" color=\"#808695\">\n                  <LockClosedOutline />\n                </n-icon>\n              </template>\n            </n-input>\n          </n-form-item>\n          <n-form-item class=\"default-color\">\n            <div class=\"flex justify-between\">\n              <div class=\"flex-initial\">\n                <n-checkbox v-model:checked=\"autoLogin\">自动登录</n-checkbox>\n              </div>\n            </div>\n          </n-form-item>\n          <n-form-item>\n            <n-button\n              type=\"primary\"\n              @click=\"handleSubmit\"\n              size=\"large\"\n              :loading=\"loading\"\n              block\n            >\n              登录\n            </n-button>\n          </n-form-item>\n        </n-form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { reactive, ref, defineComponent } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { useUserStore } from '@/store/modules/user';\nimport { useMessage } from 'naive-ui';\nimport { ResultEnum } from '@/enums/httpEnum';\nimport { PersonOutline, LockClosedOutline } from '@vicons/ionicons5';\nimport { PageEnum } from '@/enums/pageEnum';\nimport { websiteConfig } from '@/config/website.config';\nexport default defineComponent({\n  components: { PersonOutline, LockClosedOutline },\n  setup() {\n    const formRef = ref();\n    const message = useMessage();\n    const loading = ref(false);\n    const autoLogin = ref(true);\n    const LOGIN_NAME = PageEnum.BASE_LOGIN_NAME;\n    const formInline = reactive({\n      username: 'admin',\n      password: '123456',\n    });\n    const rules = {\n      username: { required: true, message: '请输入用户名', trigger: 'blur' },\n      password: { required: true, message: '请输入密码', trigger: 'blur' },\n    };\n    const userStore = useUserStore();\n    const router = useRouter();\n    const route = useRoute();\n    const handleSubmit = (e) => {\n      e.preventDefault();\n      formRef.value.validate(async (errors) => {\n        if (!errors) {\n          const { username, password } = formInline;\n          message.loading('登录中...');\n          loading.value = true;\n\n          const params = {\n            username,\n            password,\n          };\n          try {\n            const { code, message: msg } = await userStore.login(params);\n            message.destroyAll();\n            if (code == ResultEnum.SUCCESS) {\n              const toPath = decodeURIComponent(route.query?.redirect || '/');\n              message.success('登录成功，即将进入系统');\n              if (route.name === LOGIN_NAME) {\n                router.replace('/');\n              } else router.replace(toPath);\n            } else {\n              message.error(msg || '登录失败');\n            }\n          } finally {\n            loading.value = false;\n          }\n        } else {\n          message.error('请填写完整信息，并且进行验证码校验');\n        }\n      });\n    };\n    return {\n      rules,\n      loading,\n      formRef,\n      autoLogin,\n      formInline,\n      handleSubmit,\n      websiteConfig,\n    };\n  },\n});\n</script>\n<style lang=\"less\" scoped>\n.view-account {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  overflow: auto;\n\n  &-container {\n    flex: 1;\n    padding: 32px 12px;\n    max-width: 384px;\n    min-width: 320px;\n    margin: 0 auto;\n  }\n\n  &-top {\n    padding: 32px 0;\n    text-align: center;\n\n    &-desc {\n      font-size: 14px;\n      color: #808695;\n    }\n  }\n\n  &-other {\n    width: 100%;\n  }\n\n  .default-color {\n    color: #515a6e;\n\n    .ant-checkbox-wrapper {\n      color: #515a6e;\n    }\n  }\n}\n\n@media (min-width: 768px) {\n  .view-account {\n    background-image: url('../../assets/images/login.svg');\n    background-repeat: no-repeat;\n    background-position: 50%;\n    background-size: 100%;\n  }\n\n  .page-account-container {\n    padding: 32px 0 24px 0;\n  }\n}\n</style>\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 512 512'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createElementVNode(\n  'path',\n  {\n    d: 'M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z',\n    fill: 'none',\n    stroke: 'currentColor',\n    'stroke-linecap': 'round',\n    'stroke-linejoin': 'round',\n    'stroke-width': '32'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_3 = /*#__PURE__*/ _createElementVNode(\n  'path',\n  {\n    d: 'M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z',\n    fill: 'none',\n    stroke: 'currentColor',\n    'stroke-miterlimit': '10',\n    'stroke-width': '32'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_4 = [_hoisted_2, _hoisted_3]\nexport default defineComponent({\n  name: 'PersonOutline',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createElementBlock('svg', _hoisted_1, _hoisted_4)\n  }\n})\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 512 512'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createElementVNode(\n  'path',\n  {\n    d: 'M336 208v-95a80 80 0 0 0-160 0v95',\n    fill: 'none',\n    stroke: 'currentColor',\n    'stroke-linecap': 'round',\n    'stroke-linejoin': 'round',\n    'stroke-width': '32'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_3 = /*#__PURE__*/ _createElementVNode(\n  'rect',\n  {\n    x: '96',\n    y: '208',\n    width: '320',\n    height: '272',\n    rx: '48',\n    ry: '48',\n    fill: 'none',\n    stroke: 'currentColor',\n    'stroke-linecap': 'round',\n    'stroke-linejoin': 'round',\n    'stroke-width': '32'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_4 = [_hoisted_2, _hoisted_3]\nexport default defineComponent({\n  name: 'LockClosedOutline',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createElementBlock('svg', _hoisted_1, _hoisted_4)\n  }\n})\n","import { render } from \"./index.vue?vue&type=template&id=29dba5a6&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=29dba5a6&lang=less&scoped=true\"\n\nimport exportComponent from \"/Users/swcode/Documents/VS-Code/guigu-oa/guigu-oa-admin/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-29dba5a6\"]])\n\nexport default __exports__"],"names":["websiteConfig","Object","freeze","title","logo","logoImage","loginImage","loginDesc","class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","_ctx","_hoisted_7","_createVNode","_component_n_form","ref","size","model","formInline","rules","_component_n_form_item","path","_component_n_input","value","username","$event","placeholder","prefix","_withCtx","_component_n_icon","color","_component_PersonOutline","password","type","showPasswordOn","_component_LockClosedOutline","_hoisted_8","_hoisted_9","_component_n_checkbox","checked","autoLogin","_component_n_button","onClick","handleSubmit","loading","block","xmlns","viewBox","d","fill","stroke","defineComponent","name","render","_cache","_openBlock","x","y","width","height","rx","ry","components","PersonOutline","LockClosedOutline","setup","formRef","message","useMessage","LOGIN_NAME","PageEnum","reactive","required","trigger","userStore","useUserStore","router","useRouter","route","useRoute","e","preventDefault","validate","async","errors","error","params","code","msg","login","destroyAll","ResultEnum","toPath","decodeURIComponent","query","redirect","success","replace","__exports__"],"sourceRoot":""}