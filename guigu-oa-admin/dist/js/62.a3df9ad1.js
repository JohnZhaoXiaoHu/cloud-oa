"use strict";(self["webpackChunkguigu_oa_admin"]=self["webpackChunkguigu_oa_admin"]||[]).push([[62],{88350:function(e,n,t){var l=t(73396);const r={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},o=(0,l._)("path",{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z",fill:"currentColor"},null,-1),i=[o];n["Z"]=(0,l.aZ)({name:"DeleteOutlined",render:function(e,n){return(0,l.wg)(),(0,l.iD)("svg",r,i)}})},18761:function(e,n,t){var l=t(73396);const r={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},o=(0,l._)("path",{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 0 0 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 0 0 9.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3l-362.7 362.6l-88.9 15.7l15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z",fill:"currentColor"},null,-1),i=[o];n["Z"]=(0,l.aZ)({name:"EditOutlined",render:function(e,n){return(0,l.wg)(),(0,l.iD)("svg",r,i)}})},51232:function(e,n,t){var l=t(73396);const r={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},o=(0,l._)("path",{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 0 0 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3c7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176s176-78.8 176-176s-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112s112 50.1 112 112s-50.1 112-112 112z",fill:"currentColor"},null,-1),i=[o];n["Z"]=(0,l.aZ)({name:"EyeOutlined",render:function(e,n){return(0,l.wg)(),(0,l.iD)("svg",r,i)}})},60841:function(e,n,t){var l=t(73396);const r={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},o=(0,l._)("defs",null,null,-1),i=(0,l._)("path",{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z",fill:"currentColor"},null,-1),u=(0,l._)("path",{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z",fill:"currentColor"},null,-1),s=[o,i,u];n["Z"]=(0,l.aZ)({name:"PlusOutlined",render:function(e,n){return(0,l.wg)(),(0,l.iD)("svg",r,s)}})},12133:function(e,n,t){t.d(n,{Xd:function(){return d},cj:function(){return s},nL:function(){return i},o6:function(){return c},sK:function(){return a},uu:function(){return u}});var l=t(6618),r=t(90565);const o="/admin/process/processTemplate";function i({page:e,pageSize:n}){return l.d.request({url:`${o}/${e}/${n}`,method:"GET"})}function u(e){return l.d.request({url:`${o}`,method:"POST",data:e},{successMessageText:"添加成功"})}function s(e){return l.d.request({url:`${o}/${e}`,method:"DELETE"},{successMessageText:"删除成功"})}function a(e,n){return l.d.request({url:`${o}/upload/def`,method:"POST",params:e,headers:{"Content-Type":r.ze.FORM_DATA}},n,{successMessageText:"上传成功"})}function c(e){return l.d.request({url:`${o}/delete/def`,method:"DELETE",data:{filename:e}},{successMessageText:"定义文件已删除"})}function d(e){return l.d.request({url:`${o}/publish/${e}`,method:"GET"},{successMessageText:"发布成功"})}},24257:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});t(57658);var l=t(73396),r=t(44870),o=t(87139),i=t(12133),u=t(5373),s=t(98978),a=t(51232),c=t(18761),d=t(88350),p=t(60841);const w={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},m=(0,l._)("path",{d:"M53.12 199.94l400-151.39a8 8 0 0 1 10.33 10.33l-151.39 400a8 8 0 0 1-15-.34l-67.4-166.09a16 16 0 0 0-10.11-10.11L53.46 215a8 8 0 0 1-.34-15.06z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),f=(0,l._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M460 52L227 285"},null,-1),h=[m,f];var v=(0,l.aZ)({name:"PaperPlaneOutline",render:function(e,n){return(0,l.wg)(),(0,l.iD)("svg",w,h)}}),g=t(59814),k=t(21618);const x=({currentIndex:e})=>[{type:"selection",key:"selection"},{title:"序号",key:"index",width:60,render:(...[,n])=>e()+n+1},{title:"审批名称",key:"name",edit:!0,editComponent:"NInput",editRule:!0},{title:"图标",key:"iconUrl",width:100,render(e){return(0,l.h)(k.Z,{size:36,src:e.iconUrl})}},{title:"审批类型",key:"processTypeName"},{title:"描述",key:"description",edit:!0,editComponent:"NInput"},{title:"创建时间",key:"createTime"},{title:"修改时间",key:"updateTime"}];var _=t(22483),y=t(92092);const C=(0,l._)("h3",null,"基本信息",-1),T=(0,l._)("h3",null,"表单信息",-1),b={style:{display:"flex","justify-content":"flex-end"}},z={name:"ProcessTemplate"};var q=Object.assign(z,{setup(e){const n=y.Z.$form(),t=(0,_.tv)(),w=(0,s.R)(),m=(0,r.iH)(),f=(0,r.iH)(null),h=(0,r.iH)(!1),{hasPermission:k}=(0,u.g)(),z=(0,r.iH)(1),q=(0,r.qj)({prefix:e=>`共 ${e.itemCount} 条`}),M=x({currentIndex(){return(0,r.SU)(z)}}),S=(0,l.Fl)((()=>k(["process_template_set"]))),Z=(0,r.qj)({rule:null,options:null}),U=(0,r.qj)({width:150,title:"操作",key:"action",fixed:"right",align:"center",render(e){return(0,l.h)(g.p,{style:"text",showLabel:!1,actions:W(e)})}});function W(e){return[{label:"查看",type:"primary",icon:a.Z,onClick:E.bind(null,e),auth:["process_template_list"]},{label:"编辑",type:"primary",icon:c.Z,onClick:H.bind(null,e),ifShow:()=>!0,auth:["process_template_update"]},{label:"发布",type:"success",icon:v,onClick:D.bind(null,e),ifShow:()=>0===e.status,auth:["process_template_publish"]},{label:"删除",type:"error",color:"red",icon:d.Z,onClick:P.bind(null,e),ifShow:()=>!0,auth:["process_template_remove"]}]}function $(){t.push("/processSet/set")}function O(){m.value.reload()}function j(){z.value=(m.value.pagination.page-1)*m.value.pagination.pageSize}const L=async e=>await(0,i.nL)({...e});function E(e){Z.rule=JSON.parse(e.formProps),Z.options=JSON.parse(e.formOptions),f.value=e,h.value=!0}function H(){}async function D(e){await(0,i.Xd)(e.id),O()}function P(e){w.info({title:"提示",content:`您想删除${e.name}`,positiveText:"确定",negativeText:"取消",onPositiveClick:async()=>{await(0,i.cj)(e.id),O()},onNegativeClick:()=>{}})}return(e,t)=>{const i=(0,l.up)("n-icon"),u=(0,l.up)("n-button"),s=(0,l.up)("n-space"),a=(0,l.up)("n-divider"),c=(0,l.up)("n-form-item"),d=(0,l.up)("n-form"),w=(0,l.up)("n-card"),v=(0,l.up)("n-modal");return(0,l.wg)(),(0,l.j4)(w,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(g.M),{columns:(0,r.SU)(M),request:L,"row-key":e=>e.id,ref_key:"actionRef",ref:m,actionColumn:U,"scroll-x":1e3,pagination:q,onFetchSuccess:j},{tableTitle:(0,l.w5)((()=>[(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,r.SU)(S)?((0,l.wg)(),(0,l.j4)(u,{key:0,strong:"",secondary:"",type:"primary",onClick:$},{icon:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,r.SU)(p.Z))])),_:1})])),default:(0,l.w5)((()=>[(0,l.Uk)(" 添加 ")])),_:1})):(0,l.kq)("",!0)])),_:1})])),_:1},8,["columns","row-key","actionColumn","pagination"]),(0,l.Wm)(v,{show:h.value,"onUpdate:show":t[1]||(t[1]=e=>h.value=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{style:{width:"600px"},title:"查看审批设置",preset:"card",bordered:!1,size:"huge"},{footer:(0,l.w5)((()=>[(0,l._)("div",b,[(0,l.Wm)(u,{onClick:t[0]||(t[0]=e=>h.value=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)("确定")])),_:1})])])),default:(0,l.w5)((()=>[C,(0,l.Wm)(a),(0,l.Wm)(d,{model:f.value,"label-placement":"left","show-feedback":!1},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{label:"审批类型"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(f.value.processTypeName),1)])),_:1}),(0,l.Wm)(c,{label:"名称"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(f.value.name),1)])),_:1}),(0,l.Wm)(c,{label:"创建时间"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(f.value.createTime),1)])),_:1})])),_:1},8,["model"]),T,(0,l.Wm)(a),(0,l._)("div",null,[(0,l.Wm)((0,r.SU)(n),{rule:Z.rule,option:Z.options},null,8,["rule","option"])])])),_:1})])),_:1},8,["show"])])),_:1})}}});const M=q;var S=M}}]);
//# sourceMappingURL=62.a3df9ad1.js.map