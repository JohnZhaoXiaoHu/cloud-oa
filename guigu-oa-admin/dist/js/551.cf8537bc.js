"use strict";(self["webpackChunkguigu_oa_admin"]=self["webpackChunkguigu_oa_admin"]||[]).push([[551],{51232:function(e,t,n){var l=n(73396);const a={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},i=(0,l._)("path",{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 0 0 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3c7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176s176-78.8 176-176s-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112s112 50.1 112 112s-50.1 112-112 112z",fill:"currentColor"},null,-1),r=[i];t["Z"]=(0,l.aZ)({name:"EyeOutlined",render:function(e,t){return(0,l.wg)(),(0,l.iD)("svg",a,r)}})},8581:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var l=n(73396),a=n(44870),i=n(76684);const r=({currentIndex:e})=>[{type:"selection",key:"selection"},{title:"序号",key:"index",width:60,render:(...[,t])=>e()+t+1},{title:"审批编号",key:"processCode"},{title:"标题",key:"title"},{title:"用户",key:"name"},{title:"审批类型",key:"processTypeName"},{title:"审批模版",key:"processTemplateName"},{title:"描述",key:"description"},{title:"状态",key:"status",align:"center",width:60},{title:"创建时间",key:"createTime"}],o=[{field:"keyword",component:"NInput",label:"关键词",defaultValue:"",labelMessge:"关键词",componentProps:{placeholder:"审批编号/标题/手机号/姓名"}},{field:"status",component:"NSelect",label:"状态",defaultValue:null,labelMessge:"选择状态",componentProps:{placeholder:"请选状态",options:[{label:"默认",value:0},{label:"审批中",value:1},{label:"审批通过",value:2},{label:"驳回",value:-1}]}},{field:"range",component:"NDatePicker",label:"操作时间",labelMessge:"操作时间",componentProps:{type:"datetimerange",clearable:!0,shortcuts:{"近2小时":()=>{const e=(new Date).getTime();return[e-72e5,e]}}}}];var s=n(59814),c=n(51232),u=n(6618);const p="/admin/process/";function d({page:e,pageSize:t},n){return u.d.request({url:`${p}/${e}/${t}`,method:"GET",params:n})}const m={name:"ProcessList"};var g=Object.assign(m,{setup(e){const[t]=(0,i.c)({gridProps:{cols:"1 m:2 l:3"},labelWidth:80,schemas:o}),n=()=>({keyword:null,status:null,createTimeBegin:null,createTimeEnd:null}),u=(0,a.qj)(n()),p=(0,a.iH)(1),m=(0,a.iH)(null),g=r({currentIndex(){return(0,a.SU)(p)}}),f=(0,a.qj)({width:150,title:"操作",key:"action",fixed:"right",align:"center",render(e){return(0,l.h)(s.p,{style:"text",showLabel:!1,actions:b(e)})}}),k=(0,a.qj)({prefix:e=>`共 ${e.itemCount} 条`});function w(e){const{keyword:t,status:n,range:l}=e;Object.assign(u,{keyword:t,status:n,createTimeBegin:l?.[0],createTimeEnd:l?.[1]}),h()}function y(){Object.assign(u,n()),h()}function b(e){return[{label:"查看",type:"primary",icon:c.Z,onClick:x.bind(null,e),auth:["process_list"]}]}function h(){m.value.reload()}async function v(e){return await d({...e},u)}function C(){p.value=(m.value.pagination.page-1)*m.value.pagination.pageSize}function x(){}return(e,n)=>{const r=(0,l.up)("n-card");return(0,l.wg)(),(0,l.j4)(r,{bordered:!1,class:"proCard"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,a.SU)(i.O),{onRegister:(0,a.SU)(t),onSubmit:w,onReset:y},null,8,["onRegister"]),(0,l.Wm)((0,a.SU)(s.M),{columns:(0,a.SU)(g),request:v,"row-key":e=>e.id,ref_key:"actionRef",ref:m,actionColumn:f,"scroll-x":1e3,pagination:k,onFetchSuccess:C},null,8,["columns","row-key","actionColumn","pagination"])])),_:1})}}});const f=g;var k=f}}]);
//# sourceMappingURL=551.cf8537bc.js.map