"use strict";(self["webpackChunkguigu_oa_admin"]=self["webpackChunkguigu_oa_admin"]||[]).push([[695],{92799:function(e,n,t){var l=t(73396);const o={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},i=(0,l._)("path",{d:"M354 671h58.9c4.7 0 9.2-2.1 12.3-5.7L512 561.8l86.8 103.5c3 3.6 7.5 5.7 12.3 5.7H670c6.8 0 10.5-7.9 6.1-13.1L553.8 512l122.4-145.9c4.4-5.2.7-13.1-6.1-13.1h-58.9c-4.7 0-9.2 2.1-12.3 5.7L512 462.2l-86.8-103.5c-3-3.6-7.5-5.7-12.3-5.7H354c-6.8 0-10.5 7.9-6.1 13.1L470.2 512L347.9 657.9A7.95 7.95 0 0 0 354 671z",fill:"currentColor"},null,-1),a=(0,l._)("path",{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z",fill:"currentColor"},null,-1),r=[i,a];n["Z"]=(0,l.aZ)({name:"CloseSquareOutlined",render:function(e,n){return(0,l.wg)(),(0,l.iD)("svg",o,r)}})},88350:function(e,n,t){var l=t(73396);const o={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},i=(0,l._)("path",{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z",fill:"currentColor"},null,-1),a=[i];n["Z"]=(0,l.aZ)({name:"DeleteOutlined",render:function(e,n){return(0,l.wg)(),(0,l.iD)("svg",o,a)}})},18761:function(e,n,t){var l=t(73396);const o={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},i=(0,l._)("path",{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 0 0 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 0 0 9.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3l-362.7 362.6l-88.9 15.7l15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z",fill:"currentColor"},null,-1),a=[i];n["Z"]=(0,l.aZ)({name:"EditOutlined",render:function(e,n){return(0,l.wg)(),(0,l.iD)("svg",o,a)}})},60841:function(e,n,t){var l=t(73396);const o={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},i=(0,l._)("defs",null,null,-1),a=(0,l._)("path",{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z",fill:"currentColor"},null,-1),r=(0,l._)("path",{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z",fill:"currentColor"},null,-1),c=[i,a,r];n["Z"]=(0,l.aZ)({name:"PlusOutlined",render:function(e,n){return(0,l.wg)(),(0,l.iD)("svg",o,c)}})},37683:function(e,n,t){var l=t(73396);const o={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},i=(0,l._)("path",{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144s144-64.5 144-144s-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80s80 35.8 80 80s-35.8 80-80 80z",fill:"currentColor"},null,-1),a=[i];n["Z"]=(0,l.aZ)({name:"SaveOutlined",render:function(e,n){return(0,l.wg)(),(0,l.iD)("svg",o,a)}})},94095:function(e,n,t){t.d(n,{I6:function(){return r},bz:function(){return i},dU:function(){return a},ip:function(){return c}});var l=t(6618);const o="/admin/process/processType";function i(){return l.d.request({url:`${o}`,method:"GET"})}function a({page:e,pageSize:n}){return l.d.request({url:`${o}/${e}/${n}`,method:"GET"})}function r(e){return l.d.request({url:`${o}`,method:"PUT",data:e},{successMessageText:"更改成功"})}function c(e){return l.d.request({url:`${o}/${e}`,method:"DELETE"},{successMessageText:"删除成功"})}},84577:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var l=t(73396);function o(e,n,t,o,i,a){const r=(0,l.up)("PlusOutlined"),c=(0,l.up)("n-icon"),u=(0,l.up)("n-button"),s=(0,l.up)("n-space"),d=(0,l.up)("BasicTable"),p=(0,l.up)("n-input"),m=(0,l.up)("n-form-item"),w=(0,l.up)("n-form"),f=(0,l.up)("n-modal"),h=(0,l.up)("n-card");return(0,l.wg)(),(0,l.j4)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,{columns:e.columns,request:e.loadDataTable,"row-key":e=>e.id,ref:"actionRef",actionColumn:e.actionColumn,"scroll-x":1e3,pagination:e.pagination,onFetchSuccess:e.fetchSuccess},{tableTitle:(0,l.w5)((()=>[(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[e.hasAddPermision?((0,l.wg)(),(0,l.j4)(u,{key:0,strong:"",secondary:"",type:"primary",onClick:n[0]||(n[0]=()=>e.showAddModal=!0)},{icon:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r)])),_:1})])),default:(0,l.w5)((()=>[(0,l.Uk)(" 添加 ")])),_:1})):(0,l.kq)("",!0)])),_:1})])),_:1},8,["columns","request","row-key","actionColumn","pagination","onFetchSuccess"]),e.hasAddPermision?((0,l.wg)(),(0,l.j4)(f,{key:0,show:e.showAddModal,"onUpdate:show":n[4]||(n[4]=n=>e.showAddModal=n),"show-icon":!1,preset:"dialog",title:"新建审批类型",onAfterLeave:e.clearForm},{action:(0,l.w5)((()=>[(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{onClick:n[3]||(n[3]=()=>e.showAddModal=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)("取消")])),_:1}),(0,l.Wm)(u,{type:"info",loading:e.formBtnLoading,onClick:e.confirmTypeForm},{default:(0,l.w5)((()=>[(0,l.Uk)("确定")])),_:1},8,["loading","onClick"])])),_:1})])),default:(0,l.w5)((()=>[(0,l.Wm)(w,{model:e.typeFormParams,rules:e.rules,ref:"typeFormRef","label-placement":"left","label-width":80,class:"py-4"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{label:"名称",path:"name"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{placeholder:"请输入类型名",value:e.typeFormParams.name,"onUpdate:value":n[1]||(n[1]=n=>e.typeFormParams.name=n),clearable:""},null,8,["value"])])),_:1}),(0,l.Wm)(m,{label:"描述",path:"description"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{placeholder:"请输入类型描述",value:e.typeFormParams.description,"onUpdate:value":n[2]||(n[2]=n=>e.typeFormParams.description=n),clearable:""},null,8,["value"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["show","onAfterLeave"])):(0,l.kq)("",!0)])),_:1})}var i=t(44870),a=t(59814);const r=({currentIndex:e})=>[{type:"selection",key:"selection"},{title:"序号",key:"index",width:60,render:(...[,n])=>e()+n+1},{title:"类型名称",key:"name",edit:!0,editRow:!0,editComponent:"NInput",editRule:!0},{title:"描述",key:"description",editComponent:"NInput",edit:!0,editRow:!0},{title:"创建时间",key:"createTime"},{title:"修改时间",key:"updateTime"}];var c=t(94095),u=t(60841),s=t(18761),d=t(88350),p=t(37683),m=t(92799),w=t(5373),f=t(98978);const h={name:{required:!0,trigger:["blur","input"],message:"请输入类型名称"}};var v=(0,l.aZ)({components:{BasicTable:a.M,PlusOutlined:u.Z},setup(){const e=(0,f.R)(),n=(0,i.iH)(),t=(0,i.iH)(),{hasPermission:o}=(0,w.g)(),u=(0,i.iH)(""),v=(0,i.iH)(1),g=(0,i.iH)(!1),k=(0,i.iH)(!1),y=(0,i.qj)({name:"",description:""}),x=(0,i.qj)({prefix:e=>`共 ${e.itemCount} 条`}),_=r({currentIndex(){return(0,i.SU)(v)}}),C=(0,l.Fl)((()=>o(["process_type_add"]))),b=(0,i.qj)({width:150,title:"操作",key:"action",fixed:"right",align:"center",render(e){return(0,l.h)(a.p,{style:"text",showLabel:!1,actions:q(e)})}});function q(e){return e.editable?[{label:"保存",type:"success",icon:p.Z,onClick:L.bind(null,e)},{label:"取消",type:"warning",icon:m.Z,onClick:Z.bind(null,e)}]:[{label:"编辑",type:"primary",icon:s.Z,onClick:T.bind(null,e),ifShow:()=>!0,auth:["process_type_update"]},{label:"删除",type:"error",color:"red",icon:d.Z,onClick:F.bind(null,e),ifShow:()=>!0,auth:["process_type_remove"]}]}function z(){n.value.reload()}function H(){v.value=(n.value.pagination.page-1)*n.value.pagination.pageSize}const M=async e=>await(0,c.dU)({...e});function T(e){u.value=e.key,e.onEdit?.(!0)}function Z(e){u.value="",e.onEdit?.(!1,!1)}async function L(e){const n=await(e.onEdit?.(!1,!0));if(n){u.value="";const{id:n,name:t,description:l}=e;await(0,c.I6)({id:n,name:t,description:l})}}function F(n){e.info({title:"提示",content:`您想删除${n.name}`,positiveText:"确定",negativeText:"取消",onPositiveClick:async()=>{await(0,c.ip)(n.id),z()},onNegativeClick:()=>{}})}function P(){y.name="",y.description=""}function W(){console.log(y)}return{rules:h,columns:_,actionRef:n,typeFormRef:t,pagination:x,showAddModal:k,actionColumn:b,typeFormParams:y,formBtnLoading:g,hasAddPermision:C,loadDataTable:M,fetchSuccess:H,clearForm:P,confirmTypeForm:W}}}),g=t(40089);const k=(0,g.Z)(v,[["render",o]]);var y=k}}]);
//# sourceMappingURL=695.df925ccd.js.map