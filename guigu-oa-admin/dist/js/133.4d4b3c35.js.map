{"version":3,"file":"js/133.4d4b3c35.js","mappings":"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","sources":["webpack://guigu-oa-admin/./node_modules/@vicons/antd/es/ControlOutlined.js","webpack://guigu-oa-admin/./node_modules/@vicons/antd/es/DeleteOutlined.js","webpack://guigu-oa-admin/./node_modules/@vicons/antd/es/EditOutlined.js","webpack://guigu-oa-admin/./node_modules/@vicons/antd/es/PlusOutlined.js","webpack://guigu-oa-admin/./src/api/system/sysRole.js","webpack://guigu-oa-admin/./src/views/system/user/list.vue","webpack://guigu-oa-admin/./src/views/system/user/columns.js","webpack://guigu-oa-admin/./src/api/system/sysUser.js","webpack://guigu-oa-admin/./src/views/system/user/list.vue?aceb"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 1024 1024'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createElementVNode(\n  'path',\n  {\n    d: 'M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM340 683v77c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-77c-10.1 3.3-20.8 5-32 5s-21.9-1.8-32-5zm64-198V264c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v221c10.1-3.3 20.8-5 32-5s21.9 1.8 32 5zm-64 198c10.1 3.3 20.8 5 32 5s21.9-1.8 32-5c41.8-13.5 72-52.7 72-99s-30.2-85.5-72-99c-10.1-3.3-20.8-5-32-5s-21.9 1.8-32 5c-41.8 13.5-72 52.7-72 99s30.2 85.5 72 99zm.1-115.7c.3-.6.7-1.2 1-1.8v-.1l1.2-1.8c.1-.2.2-.3.3-.5c.3-.5.7-.9 1-1.4c.1-.1.2-.3.3-.4c.5-.6.9-1.1 1.4-1.6l.3-.3l1.2-1.2l.4-.4c.5-.5 1-.9 1.6-1.4c.6-.5 1.1-.9 1.7-1.3c.2-.1.3-.2.5-.3c.5-.3.9-.7 1.4-1c.1-.1.3-.2.4-.3c.6-.4 1.2-.7 1.9-1.1c.1-.1.3-.1.4-.2c.5-.3 1-.5 1.6-.8l.6-.3c.7-.3 1.3-.6 2-.8c.7-.3 1.4-.5 2.1-.7c.2-.1.4-.1.6-.2c.6-.2 1.1-.3 1.7-.4c.2 0 .3-.1.5-.1c.7-.2 1.5-.3 2.2-.4c.2 0 .3 0 .5-.1c.6-.1 1.2-.1 1.8-.2h.6c.8 0 1.5-.1 2.3-.1s1.5 0 2.3.1h.6c.6 0 1.2.1 1.8.2c.2 0 .3 0 .5.1c.7.1 1.5.2 2.2.4c.2 0 .3.1.5.1c.6.1 1.2.3 1.7.4c.2.1.4.1.6.2c.7.2 1.4.4 2.1.7c.7.2 1.3.5 2 .8l.6.3c.5.2 1.1.5 1.6.8c.1.1.3.1.4.2c.6.3 1.3.7 1.9 1.1c.1.1.3.2.4.3c.5.3 1 .6 1.4 1c.2.1.3.2.5.3c.6.4 1.2.9 1.7 1.3s1.1.9 1.6 1.4l.4.4l1.2 1.2l.3.3c.5.5 1 1.1 1.4 1.6c.1.1.2.3.3.4c.4.4.7.9 1 1.4c.1.2.2.3.3.5l1.2 1.8s0 .1.1.1a36.18 36.18 0 0 1 5.1 18.5c0 6-1.5 11.7-4.1 16.7c-.3.6-.7 1.2-1 1.8c0 0 0 .1-.1.1l-1.2 1.8c-.1.2-.2.3-.3.5c-.3.5-.7.9-1 1.4c-.1.1-.2.3-.3.4c-.5.6-.9 1.1-1.4 1.6l-.3.3l-1.2 1.2l-.4.4c-.5.5-1 .9-1.6 1.4c-.6.5-1.1.9-1.7 1.3c-.2.1-.3.2-.5.3c-.5.3-.9.7-1.4 1c-.1.1-.3.2-.4.3c-.6.4-1.2.7-1.9 1.1c-.1.1-.3.1-.4.2c-.5.3-1 .5-1.6.8l-.6.3c-.7.3-1.3.6-2 .8c-.7.3-1.4.5-2.1.7c-.2.1-.4.1-.6.2c-.6.2-1.1.3-1.7.4c-.2 0-.3.1-.5.1c-.7.2-1.5.3-2.2.4c-.2 0-.3 0-.5.1c-.6.1-1.2.1-1.8.2h-.6c-.8 0-1.5.1-2.3.1s-1.5 0-2.3-.1h-.6c-.6 0-1.2-.1-1.8-.2c-.2 0-.3 0-.5-.1c-.7-.1-1.5-.2-2.2-.4c-.2 0-.3-.1-.5-.1c-.6-.1-1.2-.3-1.7-.4c-.2-.1-.4-.1-.6-.2c-.7-.2-1.4-.4-2.1-.7c-.7-.2-1.3-.5-2-.8l-.6-.3c-.5-.2-1.1-.5-1.6-.8c-.1-.1-.3-.1-.4-.2c-.6-.3-1.3-.7-1.9-1.1c-.1-.1-.3-.2-.4-.3c-.5-.3-1-.6-1.4-1c-.2-.1-.3-.2-.5-.3c-.6-.4-1.2-.9-1.7-1.3s-1.1-.9-1.6-1.4l-.4-.4l-1.2-1.2l-.3-.3c-.5-.5-1-1.1-1.4-1.6c-.1-.1-.2-.3-.3-.4c-.4-.4-.7-.9-1-1.4c-.1-.2-.2-.3-.3-.5l-1.2-1.8v-.1c-.4-.6-.7-1.2-1-1.8c-2.6-5-4.1-10.7-4.1-16.7s1.5-11.7 4.1-16.7zM620 539v221c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V539c-10.1 3.3-20.8 5-32 5s-21.9-1.8-32-5zm64-198v-77c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v77c10.1-3.3 20.8-5 32-5s21.9 1.8 32 5zm-64 198c10.1 3.3 20.8 5 32 5s21.9-1.8 32-5c41.8-13.5 72-52.7 72-99s-30.2-85.5-72-99c-10.1-3.3-20.8-5-32-5s-21.9 1.8-32 5c-41.8 13.5-72 52.7-72 99s30.2 85.5 72 99zm.1-115.7c.3-.6.7-1.2 1-1.8v-.1l1.2-1.8c.1-.2.2-.3.3-.5c.3-.5.7-.9 1-1.4c.1-.1.2-.3.3-.4c.5-.6.9-1.1 1.4-1.6l.3-.3l1.2-1.2l.4-.4c.5-.5 1-.9 1.6-1.4c.6-.5 1.1-.9 1.7-1.3c.2-.1.3-.2.5-.3c.5-.3.9-.7 1.4-1c.1-.1.3-.2.4-.3c.6-.4 1.2-.7 1.9-1.1c.1-.1.3-.1.4-.2c.5-.3 1-.5 1.6-.8l.6-.3c.7-.3 1.3-.6 2-.8c.7-.3 1.4-.5 2.1-.7c.2-.1.4-.1.6-.2c.6-.2 1.1-.3 1.7-.4c.2 0 .3-.1.5-.1c.7-.2 1.5-.3 2.2-.4c.2 0 .3 0 .5-.1c.6-.1 1.2-.1 1.8-.2h.6c.8 0 1.5-.1 2.3-.1s1.5 0 2.3.1h.6c.6 0 1.2.1 1.8.2c.2 0 .3 0 .5.1c.7.1 1.5.2 2.2.4c.2 0 .3.1.5.1c.6.1 1.2.3 1.7.4c.2.1.4.1.6.2c.7.2 1.4.4 2.1.7c.7.2 1.3.5 2 .8l.6.3c.5.2 1.1.5 1.6.8c.1.1.3.1.4.2c.6.3 1.3.7 1.9 1.1c.1.1.3.2.4.3c.5.3 1 .6 1.4 1c.2.1.3.2.5.3c.6.4 1.2.9 1.7 1.3s1.1.9 1.6 1.4l.4.4l1.2 1.2l.3.3c.5.5 1 1.1 1.4 1.6c.1.1.2.3.3.4c.4.4.7.9 1 1.4c.1.2.2.3.3.5l1.2 1.8v.1a36.18 36.18 0 0 1 5.1 18.5c0 6-1.5 11.7-4.1 16.7c-.3.6-.7 1.2-1 1.8v.1l-1.2 1.8c-.1.2-.2.3-.3.5c-.3.5-.7.9-1 1.4c-.1.1-.2.3-.3.4c-.5.6-.9 1.1-1.4 1.6l-.3.3l-1.2 1.2l-.4.4c-.5.5-1 .9-1.6 1.4c-.6.5-1.1.9-1.7 1.3c-.2.1-.3.2-.5.3c-.5.3-.9.7-1.4 1c-.1.1-.3.2-.4.3c-.6.4-1.2.7-1.9 1.1c-.1.1-.3.1-.4.2c-.5.3-1 .5-1.6.8l-.6.3c-.7.3-1.3.6-2 .8c-.7.3-1.4.5-2.1.7c-.2.1-.4.1-.6.2c-.6.2-1.1.3-1.7.4c-.2 0-.3.1-.5.1c-.7.2-1.5.3-2.2.4c-.2 0-.3 0-.5.1c-.6.1-1.2.1-1.8.2h-.6c-.8 0-1.5.1-2.3.1s-1.5 0-2.3-.1h-.6c-.6 0-1.2-.1-1.8-.2c-.2 0-.3 0-.5-.1c-.7-.1-1.5-.2-2.2-.4c-.2 0-.3-.1-.5-.1c-.6-.1-1.2-.3-1.7-.4c-.2-.1-.4-.1-.6-.2c-.7-.2-1.4-.4-2.1-.7c-.7-.2-1.3-.5-2-.8l-.6-.3c-.5-.2-1.1-.5-1.6-.8c-.1-.1-.3-.1-.4-.2c-.6-.3-1.3-.7-1.9-1.1c-.1-.1-.3-.2-.4-.3c-.5-.3-1-.6-1.4-1c-.2-.1-.3-.2-.5-.3c-.6-.4-1.2-.9-1.7-1.3s-1.1-.9-1.6-1.4l-.4-.4l-1.2-1.2l-.3-.3c-.5-.5-1-1.1-1.4-1.6c-.1-.1-.2-.3-.3-.4c-.4-.4-.7-.9-1-1.4c-.1-.2-.2-.3-.3-.5l-1.2-1.8v-.1c-.4-.6-.7-1.2-1-1.8c-2.6-5-4.1-10.7-4.1-16.7s1.5-11.7 4.1-16.7z',\n    fill: 'currentColor'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_3 = [_hoisted_2]\nexport default defineComponent({\n  name: 'ControlOutlined',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createElementBlock('svg', _hoisted_1, _hoisted_3)\n  }\n})\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 1024 1024'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createElementVNode(\n  'path',\n  {\n    d: 'M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z',\n    fill: 'currentColor'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_3 = [_hoisted_2]\nexport default defineComponent({\n  name: 'DeleteOutlined',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createElementBlock('svg', _hoisted_1, _hoisted_3)\n  }\n})\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 1024 1024'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createElementVNode(\n  'path',\n  {\n    d: 'M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 0 0 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 0 0 9.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3l-362.7 362.6l-88.9 15.7l15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z',\n    fill: 'currentColor'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_3 = [_hoisted_2]\nexport default defineComponent({\n  name: 'EditOutlined',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createElementBlock('svg', _hoisted_1, _hoisted_3)\n  }\n})\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 1024 1024'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createElementVNode(\n  'defs',\n  null,\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_3 = /*#__PURE__*/ _createElementVNode(\n  'path',\n  {\n    d: 'M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z',\n    fill: 'currentColor'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_4 = /*#__PURE__*/ _createElementVNode(\n  'path',\n  {\n    d: 'M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z',\n    fill: 'currentColor'\n  },\n  null,\n  -1\n  /* HOISTED */\n)\nconst _hoisted_5 = [_hoisted_2, _hoisted_3, _hoisted_4]\nexport default defineComponent({\n  name: 'PlusOutlined',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createElementBlock('svg', _hoisted_1, _hoisted_5)\n  }\n})\n","import { http } from '@/utils/http/axios';\n\nconst prefix = '/admin/system/sysRole';\n\n/**\n * @description: 获取角色列表-分页\n */\nexport function getPageList({ page, pageSize }, params) {\n  return http.request({\n    url: `${prefix}/${page}/${pageSize}`,\n    method: 'get',\n    params,\n  });\n}\n\n/**\n * @description: 根据ID删除角色\n */\nexport function removeById(id) {\n  return http.request(\n    {\n      url: `${prefix}/${id}`,\n      method: 'delete',\n    },\n    {\n      successMessageText: '删除成功',\n    }\n  );\n}\n\n/**\n * @description: 添加角色\n */\nexport function addRole(data) {\n  return http.request(\n    {\n      url: `${prefix}`,\n      method: 'POST',\n      data,\n    },\n    {\n      successMessageText: '添加成功',\n    }\n  );\n}\n\n/**\n * @description: 更新角色\n */\nexport function updateRole(data) {\n  return http.request(\n    {\n      url: `${prefix}`,\n      method: 'PUT',\n      data,\n    },\n    {\n      successMessageText: '更改成功',\n    }\n  );\n}\n\n/**\n * @description: 批量删除角色\n */\nexport function batchRemove(ids) {\n  return http.request(\n    {\n      url: `${prefix}/batch`,\n      method: 'DELETE',\n      data: ids,\n    },\n    {\n      successMessageText: '批量删除成功',\n    }\n  );\n}\n\n/**\n * @description: 获取所有角色和当前用户所属角色\n */\nexport function getRoles(adminId) {\n  return http.request({\n    url: `${prefix}/toAssign/${adminId}`,\n    method: 'get',\n  });\n}\n\n/**\n * @description: 分配角色\n */\nexport function assignRoles(data) {\n  return http.request(\n    {\n      url: `${prefix}/doAssign`,\n      method: 'post',\n      data,\n    },\n    {\n      successMessageText: '分配成功',\n    }\n  );\n}\n","<template>\n  <n-card :bordered=\"false\" class=\"proCard table\">\n    <BasicForm\n      @register=\"register\"\n      @submit=\"handleSubmit\"\n      @reset=\"handleReset\"\n    />\n    <BasicTable\n      :columns=\"columns\"\n      :request=\"loadDataTable\"\n      :row-key=\"(row) => row.id\"\n      ref=\"actionRef\"\n      :actionColumn=\"actionColumn\"\n      :scroll-x=\"1000\"\n      :pagination=\"pagination\"\n      @fetch-success=\"fetchSuccess\"\n      @update:checked-row-keys=\"onCheckedRow\"\n    >\n      <!-- 表格上方左侧的位置 -->\n      <template #tableTitle>\n        <n-space>\n          <!-- 新增 -->\n          <n-button\n            v-if=\"hasAddPermission\"\n            strong\n            secondary\n            type=\"primary\"\n            @click=\"addTable\"\n          >\n            <template #icon>\n              <n-icon>\n                <PlusOutlined />\n              </n-icon>\n            </template>\n            添加\n          </n-button>\n        </n-space>\n      </template>\n    </BasicTable>\n\n    <!-- 分配角色弹窗Modal -->\n    <n-modal\n      v-model:show=\"showAssignModal\"\n      :show-icon=\"false\"\n      preset=\"dialog\"\n      title=\"分配角色\"\n    >\n      <n-form\n        :model=\"assignFormParams\"\n        label-placement=\"left\"\n        :label-width=\"80\"\n        class=\"py-4\"\n      >\n        <n-form-item label=\"用户名\" path=\"username\">\n          <n-input disabled v-model:value=\"assignFormParams.username\" />\n        </n-form-item>\n        <n-form-item label=\"角色列表\" path=\"roleIdList\">\n          <n-checkbox\n            :checked=\"selectAll\"\n            label=\"全选\"\n            @update:checked=\"handleSelectAll\"\n            :indeterminate=\"indeterminate\"\n          />\n        </n-form-item>\n        <n-form-item label=\" \" path=\"roleIdList\">\n          <n-checkbox-group\n            v-model:value=\"assignFormParams.roleIdList\"\n            @update:value=\"handleRoleSelected\"\n          >\n            <n-space>\n              <template\n                v-for=\"(role, index) in allRoleList\"\n                :key=\"`${index}-${role.id}`\"\n              >\n                <n-checkbox :value=\"role.id\">\n                  {{ role.roleName }}\n                </n-checkbox>\n              </template>\n            </n-space>\n          </n-checkbox-group>\n        </n-form-item>\n      </n-form>\n      <template #action>\n        <n-space>\n          <n-button @click=\"() => (showAssignModal = false)\">取消</n-button>\n          <n-button\n            type=\"info\"\n            :loading=\"formBtnLoading\"\n            @click=\"confirmAssignForm\"\n            >确定</n-button\n          >\n        </n-space>\n      </template>\n    </n-modal>\n    <!-- 新建弹窗Modal -->\n    <n-modal\n      v-model:show=\"showUserModal\"\n      v-if=\"hasAddPermission\"\n      :show-icon=\"false\"\n      preset=\"dialog\"\n      title=\"新建\"\n      @after-leave=\"clearUserForm\"\n    >\n      <n-form\n        :model=\"userFormParams\"\n        :rules=\"rules\"\n        ref=\"userFormRef\"\n        label-placement=\"left\"\n        :label-width=\"80\"\n        class=\"py-4\"\n      >\n        <n-form-item label=\"用户名\" path=\"username\">\n          <n-input\n            placeholder=\"请输入用户名\"\n            v-model:value=\"userFormParams.username\"\n            clearable\n          />\n        </n-form-item>\n        <n-form-item label=\"密码\" path=\"password\" v-if=\"!isEdit\">\n          <n-input-group>\n            <n-input\n              placeholder=\"请输入密码\"\n              v-model:value=\"userFormParams.password\"\n              clearable\n            />\n            <n-button secondary type=\"info\" @click=\"setDeafultPwd\"\n              >默认</n-button\n            >\n          </n-input-group>\n        </n-form-item>\n        <n-form-item label=\"姓名\" path=\"name\">\n          <n-input\n            placeholder=\"请输入姓名\"\n            v-model:value=\"userFormParams.name\"\n            clearable\n          />\n        </n-form-item>\n        <n-form-item label=\"手机\" path=\"phone\">\n          <n-input\n            placeholder=\"请输入手机\"\n            v-model:value=\"userFormParams.phone\"\n            clearable\n          />\n        </n-form-item>\n      </n-form>\n      <template #action>\n        <n-space>\n          <n-button @click=\"() => (showUserModal = false)\">取消</n-button>\n          <n-button\n            type=\"info\"\n            :loading=\"formBtnLoading\"\n            @click=\"confirmUserForm\"\n            >确定</n-button\n          >\n        </n-space>\n      </template>\n    </n-modal>\n  </n-card>\n</template>\n<script>\nimport { useDialog, useMessage } from 'naive-ui';\nimport { defineComponent, reactive, ref, h, unref, computed } from 'vue';\nimport { BasicForm, useForm } from '@/components/Form';\nimport { BasicTable, TableAction } from '@/components/Table';\nimport { createColumns } from './columns';\nimport {\n  addUser,\n  getPageList,\n  removeById,\n  updateStatus,\n  updateUser,\n} from '@/api/system/sysUser';\nimport {\n  PlusOutlined,\n  DeleteOutlined,\n  EditOutlined,\n  ControlOutlined,\n} from '@vicons/antd';\nimport { assignRoles, getRoles } from '@/api/system/sysRole';\nimport { usePermission } from '@/hooks/web/usePermission';\n\nconst rules = {\n  username: {\n    required: true,\n    trigger: ['blur', 'input'],\n    message: '请输入用户名',\n  },\n  password: {\n    key: 'password',\n    required: true,\n    trigger: ['blur', 'input'],\n    message: '请输入密码',\n  },\n};\nconst schemas = [\n  {\n    field: 'keyword',\n    component: 'NInput',\n    label: '关键词',\n    defaultValue: '',\n    labelMessge: '关键词',\n    componentProps: {\n      placeholder: '用户名/姓名/手机号码',\n    },\n  },\n  {\n    field: 'range',\n    component: 'NDatePicker',\n    label: '时间范围',\n    labelMessge: '开始日期',\n    componentProps: {\n      placeholder: '开始日期',\n      type: 'datetimerange',\n      clearable: true,\n      shortcuts: {\n        近2小时: () => {\n          const cur = new Date().getTime();\n          return [cur - 2 * 60 * 60 * 1000, cur];\n        },\n      },\n    },\n  },\n];\n\nexport default defineComponent({\n  components: { PlusOutlined, BasicForm, BasicTable },\n  setup() {\n    const isEdit = ref(false);\n    const message = useMessage();\n    const { hasPermission } = usePermission();\n    const dialog = useDialog();\n    const actionRef = ref();\n    const userFormRef = ref();\n    const selections = ref([]);\n    const currentIndex = ref(1);\n    const showAssignModal = ref(false);\n    const showUserModal = ref(false);\n    const formBtnLoading = ref(false);\n    const selectAll = ref(false);\n    const columns = createColumns({\n      currentIndex() {\n        return unref(currentIndex);\n      },\n      switchStatus: async (row) => {\n        const { id, status } = row;\n        const update = status === 1 ? 0 : 1;\n        row.status = await updateStatus(id, update);\n      },\n    });\n    // 搜索表单参数\n    const defalutParams = () => {\n      return {\n        keyword: '',\n        createTimeBegin: '',\n        createTimeEnd: '',\n      };\n    };\n    const params = reactive(defalutParams());\n\n    const hasAddPermission = computed(() => {\n      return hasPermission(['system_user_add']);\n    });\n\n    // 表格列信息\n    const actionColumn = reactive({\n      width: 150,\n      title: '操作',\n      key: 'action',\n      fixed: 'right',\n      align: 'center',\n      render(record) {\n        return h(TableAction, {\n          style: 'text',\n          showLabel: false,\n          actions: createAction(record),\n        });\n      },\n    });\n\n    const pagination = reactive({\n      prefix: (info) => {\n        return `共 ${info.itemCount} 条`;\n      },\n    });\n\n    // 添加/修改用户\n    const defaultUserFormParams = () => {\n      return {\n        id: null,\n        username: '',\n        password: '',\n        name: '',\n        phone: '',\n      };\n    };\n    const userFormParams = reactive(defaultUserFormParams());\n\n    // 分配角色\n    const assignFormParams = reactive({\n      username: '',\n      userId: null,\n      roleIdList: [],\n    });\n    const allRoleListRef = ref([]);\n    const indeterminate = computed(() => {\n      if (assignFormParams.roleIdList.length === 0) return false;\n      else\n        return (\n          unref(allRoleListRef).length != assignFormParams.roleIdList.length\n        );\n    });\n\n    function createAction(record) {\n      return [\n        {\n          label: '删除',\n          type: 'error',\n          // 配置color会覆盖type\n          color: 'red',\n          icon: DeleteOutlined,\n          onClick: handleDelete.bind(null, record),\n          // 根据业务控制是否显示 isShow 和 auth 是并且关系\n          ifShow: () => {\n            return true;\n          },\n          // 根据权限控制是否显示: 有权限，会显示，支持多个\n          auth: ['system_user_remove'],\n        },\n        {\n          label: '编辑',\n          type: 'primary',\n          icon: EditOutlined,\n          onClick: handleEdit.bind(null, record),\n          ifShow: () => {\n            return true;\n          },\n          auth: ['system_user_update'],\n        },\n        {\n          label: '分配角色',\n          type: 'warning',\n          icon: ControlOutlined,\n          onClick: handleAssign.bind(null, record),\n          ifShow: () => {\n            return true;\n          },\n          auth: ['system_user_assign'],\n        },\n      ];\n    }\n\n    // 表单\n\n    // 注册表单\n    const [register, { setProps }] = useForm({\n      gridProps: { cols: 2 },\n      showAdvancedButton: true,\n      labelWidth: 80,\n      schemas,\n    });\n\n    function handleSubmit(values) {\n      const { keyword, range } = values;\n      Object.assign(params, {\n        keyword,\n        createTimeBegin: range?.[0],\n        createTimeEnd: range?.[1],\n      });\n      console.log(params);\n      reloadTable();\n    }\n\n    function handleReset() {\n      Object.assign(params, defalutParams());\n      reloadTable();\n    }\n\n    // 表格\n    async function loadDataTable(res) {\n      return await getPageList({ ...res }, params);\n    }\n\n    function addTable() {\n      isEdit.value = false;\n      showUserModal.value = true;\n    }\n\n    function reloadTable() {\n      actionRef.value.reload();\n    }\n\n    function onCheckedRow(rowKeys) {\n      selections.value = rowKeys;\n    }\n\n    function handleDelete(record) {\n      dialog.warning({\n        title: '提示',\n        content: `您想删除${record.name}`,\n        positiveText: '确定',\n        negativeText: '取消',\n        onPositiveClick: async () => {\n          await removeById(record.id);\n          reloadTable();\n        },\n        onNegativeClick: () => {},\n      });\n    }\n\n    function handleEdit(record) {\n      const { id, username, password, name, phone } = record;\n      isEdit.value = true;\n      showUserModal.value = true;\n      Object.assign(userFormParams, { id, username, password, name, phone });\n    }\n\n    async function handleAssign(record) {\n      const { username, id } = record;\n      // 获取所有角色allRoles，用户所属角色assignRoleList\n      const roles = await getRoles(id);\n      const { assignRoleList, allRoles } = roles;\n      // 系统没有角色\n      if (allRoles && allRoles.length === 0) return message.info('无角色信息');\n      // 解析出用户所属角色id\n      const roleIdList = assignRoleList.map((role) => role.id);\n      // 赋值操作\n      Object.assign(assignFormParams, { username, userId: id, roleIdList });\n      allRoleListRef.value = allRoles;\n      showAssignModal.value = true;\n    }\n    function fetchSuccess() {\n      currentIndex.value =\n        (actionRef.value.pagination.page - 1) *\n        actionRef.value.pagination.pageSize;\n    }\n\n    // Modal\n    // 全选按钮选中事件\n    function handleSelectAll() {\n      if (indeterminate.value || !selectAll.value) {\n        // true，此时是部分选中，点击进行全选\n        const allRoleIds = unref(allRoleListRef).map((role) => role.id);\n        assignFormParams.roleIdList = allRoleIds;\n      } else {\n        // false，全取消选中\n        assignFormParams.roleIdList = [];\n      }\n      selectAll.value = !selectAll.value;\n    }\n\n    function handleRoleSelected(value) {\n      selectAll.value = value.length === assignFormParams.roleIdList.length;\n    }\n\n    function confirmAssignForm() {\n      formBtnLoading.value = true;\n      assignRoles(assignFormParams)\n        .then(() => {\n          showAssignModal.value = false;\n          formBtnLoading.value = false;\n        })\n        .catch(() => {\n          formBtnLoading.value = false;\n        });\n    }\n\n    function setDeafultPwd() {\n      userFormParams.password = '123456';\n      userFormRef.value?.validate(\n        (errors) => {\n          if (errors) console.log(errors);\n        },\n        (rule) => {\n          return rule?.key === 'password';\n        }\n      );\n    }\n\n    function clearUserForm() {\n      Object.assign(userFormParams, defaultUserFormParams());\n    }\n\n    async function confirmUserForm(e) {\n      e.preventDefault();\n      formBtnLoading.value = true;\n      userFormRef.value?.validate(async (errors) => {\n        if (!errors) {\n          if (isEdit.value) {\n            await updateUser(userFormParams);\n          } else {\n            await addUser(userFormParams);\n          }\n          setTimeout(() => {\n            showUserModal.value = false;\n            reloadTable();\n          });\n        } else {\n          console.log(errors);\n          message.error('请填写完整信息');\n        }\n        formBtnLoading.value = false;\n      });\n    }\n\n    return {\n      rules,\n      isEdit,\n      schemas,\n      columns,\n      actionRef,\n      pagination,\n      actionColumn,\n      register,\n      setProps,\n      handleSubmit,\n      handleReset,\n      addTable,\n      loadDataTable,\n      onCheckedRow,\n      fetchSuccess,\n      formBtnLoading,\n      showAssignModal,\n      assignFormParams,\n      allRoleList: allRoleListRef,\n      selectAll,\n      handleRoleSelected,\n      handleSelectAll,\n      indeterminate,\n      confirmAssignForm,\n      showUserModal,\n      userFormRef,\n      userFormParams,\n      clearUserForm,\n      setDeafultPwd,\n      confirmUserForm,\n      hasAddPermission,\n    };\n  },\n});\n</script>\n","import { NSwitch } from 'naive-ui';\nimport { h } from 'vue';\n\nexport const createColumns = ({ currentIndex, switchStatus }) => {\n  return [\n    {\n      type: 'selection',\n      key: 'selection',\n    },\n    {\n      title: '序号',\n      key: 'index',\n      width: 60,\n      render: (...[, record]) => {\n        return currentIndex() + record + 1;\n      },\n    },\n    {\n      title: '用户名',\n      key: 'username',\n      editRule: true,\n    },\n    {\n      title: '姓名',\n      key: 'name',\n      editRule: true,\n    },\n    {\n      title: '手机',\n      key: 'phone',\n      width: 120,\n      editRule: true,\n    },\n    {\n      title: '岗位',\n      key: 'dept',\n      editRule: true,\n    },\n    {\n      title: '部门',\n      key: 'post',\n      editRule: true,\n    },\n    {\n      title: '所属角色',\n      key: 'roleName',\n      editRule: true,\n    },\n    {\n      title: '状态',\n      key: 'status',\n      render(row) {\n        return h(NSwitch, {\n          value: row.status === 1 ? true : false,\n          onClick: () => switchStatus(row),\n        });\n      },\n    },\n    {\n      title: '创建时间',\n      key: 'createTime',\n    },\n  ];\n};\n","import { http } from '@/utils/http/axios';\n\nconst prefix = '/admin/system/sysUser';\n\n/**\n * @description: 获取用户列表-分页\n */\nexport function getPageList({ page, pageSize }, params) {\n  return http.request({\n    url: `${prefix}/${page}/${pageSize}`,\n    method: 'get',\n    params,\n  });\n}\n\n/**\n * @description: 根据ID删除用户\n */\nexport function removeById(id) {\n  return http.request(\n    {\n      url: `${prefix}/${id}`,\n      method: 'delete',\n    },\n    {\n      successMessageText: '删除成功',\n    }\n  );\n}\n\n/**\n * @description: 添加用户\n */\nexport function addUser(data) {\n  return http.request(\n    {\n      url: `${prefix}`,\n      method: 'POST',\n      data,\n    },\n    {\n      successMessageText: '添加成功',\n    }\n  );\n}\n\n/**\n * @description: 更新用户\n */\nexport function updateUser(data) {\n  return http.request(\n    {\n      url: `${prefix}`,\n      method: 'PUT',\n      data,\n    },\n    {\n      successMessageText: '更改成功',\n    }\n  );\n}\n\n/**\n * @description: 批量删除用户\n */\nexport function batchRemove(ids) {\n  return http.request(\n    {\n      url: `${prefix}/batch`,\n      method: 'DELETE',\n      data: ids,\n    },\n    {\n      successMessageText: '批量删除成功',\n    }\n  );\n}\n\n/**\n * @description: 更改角色状态\n */\nexport function updateStatus(id, status) {\n  return http.request(\n    {\n      url: `${prefix}/updateStatus/${id}/${status}`,\n      method: 'get',\n    },\n    {\n      successMessageText: '状态更改成功',\n    }\n  );\n}\n","import { render } from \"./list.vue?vue&type=template&id=2f9b20f9\"\nimport script from \"./list.vue?vue&type=script&lang=js\"\nexport * from \"./list.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/swcode/Documents/VS-Code/guigu-oa/guigu-oa-admin/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_hoisted_1","xmlns","viewBox","_hoisted_2","_createElementVNode","d","fill","_hoisted_3","defineComponent","name","render","_ctx","_cache","_openBlock","_createElementBlock","_hoisted_4","_hoisted_5","prefix","getPageList","page","pageSize","params","http","url","method","removeById","id","successMessageText","addRole","data","updateRole","batchRemove","ids","getRoles","adminId","assignRoles","_createBlock","_component_n_card","bordered","class","_createVNode","_component_BasicForm","onRegister","register","onSubmit","handleSubmit","onReset","handleReset","_component_BasicTable","columns","request","loadDataTable","row","ref","actionColumn","pagination","onFetchSuccess","fetchSuccess","onCheckedRow","tableTitle","_withCtx","_component_n_space","hasAddPermission","_component_n_button","strong","secondary","type","onClick","addTable","icon","_component_n_icon","_component_PlusOutlined","_component_n_modal","show","showAssignModal","$event","preset","title","action","loading","formBtnLoading","confirmAssignForm","_component_n_form","model","assignFormParams","_component_n_form_item","label","path","_component_n_input","disabled","value","username","_component_n_checkbox","checked","selectAll","handleSelectAll","indeterminate","_component_n_checkbox_group","roleIdList","handleRoleSelected","_Fragment","_renderList","allRoleList","role","index","roleName","showUserModal","onAfterLeave","clearUserForm","confirmUserForm","userFormParams","rules","placeholder","clearable","isEdit","_component_n_input_group","password","setDeafultPwd","phone","createColumns","currentIndex","switchStatus","key","width","record","editRule","h","NSwitch","status","addUser","updateUser","updateStatus","required","trigger","message","schemas","field","component","defaultValue","labelMessge","componentProps","shortcuts","近2小时","cur","Date","getTime","components","PlusOutlined","BasicForm","BasicTable","setup","useMessage","hasPermission","usePermission","dialog","useDialog","actionRef","userFormRef","selections","unref","async","update","defalutParams","keyword","createTimeBegin","createTimeEnd","reactive","computed","fixed","align","TableAction","style","showLabel","actions","createAction","info","itemCount","defaultUserFormParams","userId","allRoleListRef","length","color","DeleteOutlined","handleDelete","bind","ifShow","auth","EditOutlined","handleEdit","ControlOutlined","handleAssign","setProps","useForm","gridProps","cols","showAdvancedButton","labelWidth","values","range","Object","assign","console","log","reloadTable","res","reload","rowKeys","warning","content","positiveText","negativeText","onPositiveClick","onNegativeClick","roles","assignRoleList","allRoles","map","allRoleIds","then","catch","validate","errors","rule","e","preventDefault","error","setTimeout","__exports__"],"sourceRoot":""}